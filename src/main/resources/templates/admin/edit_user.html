<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org"
      th:replace="base::layout(~{::section})">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
</head>
<body>
<section class="container mt-5 mb-5">
    <div class="row justify-content-center mb-5">
        <div class="col-md-12 bg-white p-4 shadow rounded">
            <h3 class="text-center text-primary mb-4">Edit User</h3>
            <form th:action="@{/admin/editSubmitUser}" th:object="${editUser}" method="post">
                <input type="hidden" th:field="*{id}">
                <div th:if="${error}" id="error" class="text-danger mb-3" th:text="${error}"></div>
                <div class="row">
                    <div class="mb-3 col-md-6">
                        <label for="name" class="form-label">Name<span style="color: red">*</span></label>
                        <input type="text" id="name" name="name" class="form-control" th:field="*{name}">
                        <div th:if="${nameError}" class="text-danger mt-1" th:text="${nameError}"></div>
                    </div>
                    <div class="mb-3 col-md-6">
                        <label for="userId" class="form-label">User ID<span style="color: red">*</span></label>
                        <input type="text" id="userId" name="userId" class="form-control" th:field="*{userId}">
                        <div th:if="${userIdError}" class="text-danger mt-1" th:text="${userIdError}"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="mb-3 col-md-6">
                        <label for="passwordInput" class="form-label">Password<span style="color: red">*</span></label>
                        <div class="input-group">
                            <input type="password" id="passwordInput" name="password" class="form-control" value="*****"  readonly>
                            <button type="button" class="btn btn-outline-secondary" id="togglePasswordBtn" tabindex="-1">
                                <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                                    <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zm-8 4.5c-3.5 0-6.5-3.5-6.5-3.5S4.5 4.5 8 4.5s6.5 3.5 6.5 3.5-3 3.5-6.5 3.5z"/>
                                    <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zm0 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                                </svg>
                            </button>
                        </div>
                        <div th:if="${passwordError}" class="text-danger mt-1" th:text="${passwordError}"></div>
                    </div>
                    <div class="mb-3 col-md-6">
                        <label for="email" class="form-label">Email<span style="color: red">*</span></label>
                        <input type="email" id="email" name="email" class="form-control"  th:field="*{email}">
                        <div th:if="${emailError}" class="text-danger mt-1" th:text="${emailError}"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="mb-3 col-md-6">
                        <label for="mobileNumber" class="form-label">Mobile<span style="color: red">*</span></label>
                        <input type="text" id="mobileNumber" name="mobileNumber" class="form-control"  th:field="*{mobileNumber}">
                        <div th:if="${mobileNumberError}" class="text-danger mt-1" th:text="${mobileNumberError}"></div>
                    </div>
                    <div class="mb-3 col-md-6">
                        <label for="dob" class="form-label">Date of Birth<span style="color: red">*</span></label>
                        <input type="date" id="dob" name="dob" class="form-control" th:field="*{dob}">
                        <div th:if="${dobError}" class="text-danger mt-1" th:text="${dobError}"></div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="address" class="form-label">Address<span style="color: red">*</span></label>
                    <textarea id="address" name="address" class="form-control" rows="3"  th:field="*{address}"></textarea>
                    <div th:if="${addressError}" class="text-danger mt-1" th:text="${addressError}"></div>
                </div>
                <div class="d-flex justify-content-end gap-2">
                    <button class="btn btn-primary">Submit</button>
                    <a th:href="@{/admin/users}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
    <!-- When I press escape button then I should cancel the screen -->
    <script>
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                window.location.href = '/admin/users';
            }
        });
    </script>
</section>
</body>
</html>